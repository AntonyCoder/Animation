(()=>{"use strict";const t=document.getElementById("root");new class{constructor(t){if(!(t instanceof HTMLElement))throw new Error("This is not HTML element!");this.container=t,this.onButton=this.onButton.bind(this),this.init()}init(){this.renderWidget()}renderWidget(){const t=document.createElement("div");t.classList.add("widget");const e=this.renderButton(),n=this.renderTextContainer();t.append(e,n),this.container.appendChild(t)}renderButton(){const t=document.createElement("a");return t.classList.add("button"),t.textContent="Collapse",t.addEventListener("click",this.onButton),t}renderTextContainer(){const t=document.createElement("div");t.classList.add("container");const e=document.createElement("p");return e.classList.add("text"),e.textContent="\n        Я помню чудное мгновенье:\n        Передо мной явилась ты,\n        Как мимолетное виденье,\n        Как гений чистой красоты.\n        В томленьях грусти безнадежной,\n        В тревогах шумной суеты,\n        Звучал мне долго голос нежный\n        И снились милые черты.",t.appendChild(e),t}onButton(){document.querySelector(".container").classList.toggle("collapsed")}}(t),new class{constructor(t){if(!(t instanceof HTMLElement))throw new Error("This is not HTML element!");this.container=t,this.onButton=this.onButton.bind(this),this.onCloseButton=this.onCloseButton.bind(this),this.init()}init(){this.renderButton()}renderButton(){const t=document.createElement("a");t.classList.add("callback-button"),this.container.appendChild(t),t.addEventListener("click",this.onButton)}renderCallbackChat(){const t=document.createElement("form");t.classList.add("callback-form");const e=document.createElement("a");e.classList.add("close-button"),e.textContent="X",e.addEventListener("click",this.onCloseButton);const n=document.createElement("label");n.classList.add("label"),n.textContent="Напишите нам";const s=document.createElement("textarea");s.classList.add("callback-text");const o=document.createElement("a");return o.classList.add("send-button"),o.textContent="Отправить",t.append(e,n,s,o),t}onButton(t){const e=this.renderCallbackChat();t.target.classList.add("hide"),this.container.appendChild(e),requestAnimationFrame((()=>{e.classList.add("show")}))}onCloseButton(t){const e=t.target.closest("form");e.classList.add("hide"),e.addEventListener("transitionend",(t=>{e.remove()}),{once:!0});document.querySelector(".callback-button").classList.remove("hide")}}(t)})();